"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[644],{9644:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});const n={data:function(){return{event:{},loading:!0,events:[],pagination:{}}},methods:{loadEvents:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$spinner.show(),axios.get("/api/events/mine?page="+e).then((function(e){t.events=e.data.data,t.prepPagination(e.data)})).catch((function(e){t.$notify({type:"error",text:e.message})})).finally((function(){t.$spinner.hide()}))},prepPagination:function(t){this.pagination={data:t.data,current_page:t.meta.current_page,first_item:t.meta.first_item,last_item:t.meta.last_item,last_page:t.meta.last_page,next_page_url:t.meta.next_page_url,per_page:t.meta.per_page,previous_page_url:t.meta.previous_page_url,total:t.meta.total}},confirmDelete:function(t){var e=this;this.$confirm({message:"Are you sure you want to delete this Event?",button:{no:"No",yes:"Yes"},callback:function(a){a&&e.doDelete(t)}})},doDelete:function(t){var e=this;this.$spinner.show(),axios.delete("/api/events/"+t).then((function(a){e.events=e.events.filter((function(e){return e.id!=t})),e.$notify({type:"success",text:a.data.message})})).catch((function(t){e.$notify({type:"error",text:t.message})})).finally((function(){e.$spinner.hide()}))},confirmClose:function(t){var e=this;Swal.fire({html:"Are you sure you want to Close this Event?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes"}).then((function(a){a.isConfirmed&&axios.get("/api/events/close/"+t).then((function(a){for(var n=0;n<e.events.length;n++){var s=e.events[n];s.id==t&&(s.status="closed",e.events[n]=s)}swal(a.data.message)})).catch((function(t){swal(t.message,"error")}))}))},confirmShare:function(t){var e=this;this.event=t,this.$confirm({message:"Are you sure you want to share this Event?",button:{no:"No",yes:"Yes"},callback:function(t){t&&e.$modal.show("share-modal")}})},share:function(){var t=this;this.$modal.hide("share-modal"),this.$spinner.show(),axios.get("/api/events/"+this.event.id+"/share").then((function(e){t.$notify({type:"success",text:e.data.message})})).catch((function(e){t.$notify({type:"error",text:e.message})})).finally((function(){t.$spinner.hide()}))}},mounted:function(){this.loadEvents(1)}};const s=(0,a(1900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("modal",{attrs:{name:"share-modal",adaptive:!0,height:400}},[a("div",{staticClass:"card h-100"},[a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-title"},[t._v("\n        \t\t\t\tEvent Details: \n        \t\t\t")]),t._v(" "),a("p",[t._v("\n        \t\t\t\tName: "),a("b",[t._v(t._s(t.event.name))])]),t._v(" "),a("p",[t._v("\n        \t\t\t\tDate: "),a("b",[t._v(t._s(t.event.event_date))])]),t._v(" "),a("p",[t._v("\n        \t\t\t\tDescription: "),a("br"),t._v("\n        \t\t\t\t"+t._s(t.event.description)+"\n        \t\t\t")])]),t._v(" "),a("div",{staticClass:"card-footer text-right"},["individual"!=t.$auth.type?a("button",{staticClass:"btn btn-primary px-3",on:{click:t.share}},[t._v("Share with Member")]):t._e()])])]),t._v(" "),a("div",{staticClass:"card border-0",staticStyle:{"border-radius":"16px"}},[a("div",{staticClass:"card-body"},[t._m(0),a("div",{staticClass:"dropdown float-right"},[a("button",{staticClass:"btn btn-primary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                            Export\n                        ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"/api/events/company-export-to-pdf"}},[t._v("PDF")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"/api/events/export"}},[t._v("Excel")])])]),t._v(" "),a("p"),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-borderless"},[t._m(1),t._v(" "),a("tbody",[0==t.events.length?a("tr",[t._m(2)]):t._e(),t._v(" "),t._l(t.events,(function(e,n){return a("tr",{key:e.id},[a("td",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.unique_id)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.type)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.tickets)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.event_date)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\t\t\tN/A\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.status)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:t.$route.path+"/"+e.id+"/edit",type:"button"}},[a("i",{staticClass:"fas fa-pencil-alt"})]),t._v(" "),a("a",{staticClass:"btn btn-sm btn-success",on:{click:function(a){return t.confirmShare(e)}}},[a("i",{staticClass:"fas fa-share"})]),t._v(" "),a("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:t.$route.path+"/"+e.id,title:"Details"}},[a("i",{staticClass:"fas fa-file",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.confirmDelete(e.id)}}},[a("i",{staticClass:"fas fa-trash-alt"})])],1)])}))],2)])]),t._v(" "),a("pagination",{attrs:{data:t.pagination,page:"1"},on:{"pagination-change-page":t.loadEvents}})],1)])],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"card-title mb-0"},[a("span",{staticClass:"float-left"},[t._v("My Events")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Type")]),t._v(" "),a("th",[t._v("Tickets")]),t._v(" "),a("th",[t._v("Date")]),t._v(" "),a("th",[t._v("Period")]),t._v(" "),a("th",[t._v("Status")]),t._v(" "),a("th",[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"8"}},[a("p",{staticClass:"text-center"},[t._v("\n\t\t\t\t\t\t\t\t\t\tNo Events Found!\n\t\t\t\t\t\t\t\t\t")])])}],!1,null,null,null).exports}}]);