"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[452],{4452:(t,e,n)=>{n.r(e),n.d(e,{default:()=>s});const a={name:"EventRequest",data:function(){return{events:[],pagination:{},invitations:[],form:new Form({event_id:"",username:""})}},computed:{url:function(){return"event-info"}},methods:{getRequests:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$spinner.show(),axios.get("/api/events/".concat(this.form.event_id,"/requests?page=").concat(e)).then((function(e){console.log("Data",e),t.$notify({type:e.data.status?"success":"warn",text:e.data.message}),t.prepPagination(e.data),t.invitations=e.data.data})).catch((function(e){t.$notify({type:"error",text:e.message})})).finally((function(){t.$spinner.hide()}))},prepPagination:function(t){this.pagination={data:t.data,current_page:t.meta.current_page,first_item:t.meta.first_item,last_item:t.meta.last_item,last_page:t.meta.last_page,next_page_url:t.meta.next_page_url,per_page:t.meta.per_page,previous_page_url:t.meta.previous_page_url,total:t.meta.total}},loadAllEvents:function(){var t=this;this.$spinner.show(),axios.get("/api/events/all").then((function(e){t.events=e.data.data,t.$notify({type:e.data.status?"success":"warn",text:e.data.message})})).catch((function(e){t.$notify({type:"error",text:e.message})})).finally((function(){t.$spinner.hide()}))}},mounted:function(){this.loadAllEvents()}};const s=(0,n(1900).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card mb-4"},[n("div",{staticClass:"card-body"},[n("p",{staticClass:"card-title"},[t._v("Request Status")]),t._v(" "),n("form",{on:{submit:function(e){return e.preventDefault(),t.getRequests()},keydown:function(e){return t.form.onKeydown(e)}}},[n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col-md-10"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.event_id,expression:"form.event_id"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"event_id",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:""}},[t._v("Select Event")]),t._v(" "),t._l(t.events,(function(e){return n("option",{key:e.id,domProps:{value:e.unique_id}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t")])}))],2)]),t._v(" "),t._m(0)])])])]),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("h4",{staticClass:"card-title"},[t._v("Event Requests")]),t._v(" "),n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-striped table-borderless"},[t._m(1),t._v(" "),n("tbody",[0==t.invitations.length?n("tr",[t._m(2)]):t._e(),t._v(" "),t._l(t.invitations,(function(e,a){return n("tr",{key:e.id},[n("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(a+1)+"\n\t\t\t\t\t\t\t")]),t._v(" "),n("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.event.name)+"\n\t\t\t\t\t\t\t")]),t._v(" "),"individual"==e.user.type?n("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.user.details.firstname+" "+e.user.details.lastname)+"\n\t\t\t\t\t\t\t")]):t._e(),t._v(" "),"organization"==e.user.type?n("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.user.details.name)+"\n\t\t\t\t\t\t\t")]):t._e(),t._v(" "),n("td",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.user.email)+"\n\t\t\t\t\t\t\t")]),t._v(" "),n("td",["pending"==e.status?n("span",{staticClass:"p-2 bg-info rounded text-white"},[t._v("\n\t\t\t\t\t\t\t\t\tPending\n\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),"approved"==e.status?n("span",{staticClass:"p-2 bg-sucess rounded text-white"},[t._v("\n\t\t\t\t\t\t\t\t\tAccepted\n\t\t\t\t\t\t\t\t")]):t._e(),t._v(" "),"declined"==e.status?n("span",{staticClass:"p-2 bg-warning rounded text-white"},[t._v("\n\t\t\t\t\t\t\t\t\tDeclined\n\t\t\t\t\t\t\t\t")]):t._e()]),t._v(" "),n("td")])}))],2)])]),t._v(" "),n("pagination",{attrs:{data:t.pagination,page:"1"},on:{"pagination-change-page":t.getRequests}})],1)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-2"},[n("button",{staticClass:"btn btn-primary px-5"},[t._v("Fetch")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("#")]),t._v(" "),n("th",[t._v("Event Title")]),t._v(" "),n("th",[t._v("Invitee Name")]),t._v(" "),n("th",[t._v("Invitee Email")]),t._v(" "),n("th",[t._v("Invitation Status")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{attrs:{colspan:"5"}},[n("p",{staticClass:"text-center"},[t._v("No Record Found")])])}],!1,null,null,null).exports}}]);